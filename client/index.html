<html>
    <head>
        <title>NEDB in Datatables</title>
        <link rel="stylesheet" type="text/css" href="DataTables/datatables.min.css"/>
        <script type="text/javascript" src="DataTables/datatables.min.js"></script>
        
        <script type="text/javascript">
            
            function getData(callback) {
                $.ajax({
                  url: "http://localhost:3000/api/dfind/test2/query/%7B%7D",
                  success: callback
                });
            }
            
            // this example gets the columns in a semi-dynamic way
            $(document).ready(function() {
                getData(function( data ) {
                    var columns = [];
                    console.log(data.data[0]);
                    //data = JSON.parse(data);
                    columnNames = Object.keys(data.data[0]);
                    for (var i in columnNames) {
                        columns.push({data: columnNames[i], title: columnNames[i]});
                    }
                    $('#example').DataTable( {
                        data: data.data,
                        columns: columns
                    } );
                });
            });
        </script>
        <body>
        
            <table id="example" class="display" style="width:100%">
            </table>          
            
        </body>
    </head>
</html>